# 集合或重排

我们在讨论长寿命指针时提到了这一点，但另一个危险是，如果主机或客户机将另一方引用的数据移动到另一方。如果其中一个(或两个)环境使用压缩或重定位策略的垃圾收集，那么对象就可以在内存中移动，而双方都不知道。如果数据移动，那么指向该数据的指针都会损坏。

这一点之所以重要，是因为用于来宾和宿主之间通信的任何策略都需要依赖于固定(或固定)指针的保证，需要显式地意识到内存重定位策略，或者需要完全避免使用长期存在的指针。